<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>עוזר רפואי - מכבי</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
    }

    /* Animated background particles */
    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="60" cy="10" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="10" cy="60" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
      animation: float 20s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
    }

    .container {
      text-align: center;
      max-width: 600px;
      width: 100%;
      position: relative;
      z-index: 1;
    }

    .image-wrapper {
      position: relative;
      display: inline-block;
      max-width: 350px;
      margin-bottom: 40px;
      animation: slideInDown 1s ease-out;
    }

    .image-wrapper img {
      width: 100%;
      height: auto;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      transition: all 0.4s ease;
      filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
    }

    .image-wrapper img:hover {
      transform: translateY(-10px) scale(1.05);
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
    }

    .patient-form {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      padding: 40px;
      border-radius: 24px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      animation: slideInUp 1s ease-out 0.3s both;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .form-header {
      margin-bottom: 30px;
    }

    .form-header h2 {
      color: #2d3748;
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 10px;
      background: linear-gradient(135deg, rgb(16, 74, 163), rgb(30, 64, 175));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    .form-header h2 img {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .form-header p {
      color: #718096;
      font-size: 16px;
      line-height: 1.6;
    }

    .form-group {
      margin-bottom: 25px;
      text-align: right;
    }

    .form-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: #2d3748;
      font-size: 16px;
      transition: color 0.3s ease;
    }

    .form-group input {
      width: 100%;
      padding: 16px 20px;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.9);
      color: #2d3748;
    }

    .form-group input:focus {
      outline: none;
      border-color: rgb(16, 74, 163);
      box-shadow: 0 0 0 3px rgba(16, 74, 163, 0.1);
      transform: translateY(-2px);
    }

    .form-group input::placeholder {
      color: #a0aec0;
    }

    .start-button {
      background: linear-gradient(135deg, rgb(16, 74, 163) 0%, rgb(30, 64, 175) 100%);
      color: white;
      border: none;
      padding: 16px 32px;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      position: relative;
      overflow: hidden;
    }

    .start-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .start-button:hover::before {
      left: 100%;
    }

    .start-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(16, 74, 163, 0.4);
    }

    .start-button:active {
      transform: translateY(-1px);
    }

    .start-button:disabled {
      background: #a0aec0;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .error-message {
      color: #e53e3e;
      font-size: 14px;
      margin-top: 8px;
      display: none;
      animation: shake 0.5s ease-in-out;
    }

    .new-patient-section {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #e2e8f0;
    }

    .new-patient-btn {
      background: rgb(16, 74, 163);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .new-patient-btn:hover {
      background: rgb(15, 65, 145);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(16, 74, 163, 0.3);
    }

    .success-feedback {
      background: #48bb78;
      color: white;
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      animation: fadeIn 0.3s ease;
    }

    /* Animations */
    @keyframes slideInDown {
      from {
        opacity: 0;
        transform: translateY(-50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      .patient-form {
        padding: 30px 20px;
      }
      
      .form-header h2 {
        font-size: 24px;
      }
      
      .image-wrapper {
        max-width: 280px;
      }
    }

    /* Loading animation for button */
    .loading {
      position: relative;
      color: transparent !important;
    }

    .loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin: -10px 0 0 -10px;
      border: 2px solid transparent;
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="container">
   
    
    <div class="patient-form">
      <div class="form-header">
        <h2 style="font-size: 18px;">
          <img src="data:image/png;base64,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" alt="מכבי לוגו" style="
          width: 70px;
          height: 70px;
      "/>
          ברוכים הבאים למערכת הכנה לביקור במכבי  
                </h2>
        <p id="current-date-time"></p>

<script>
  const now = new Date();
  const date = now.toLocaleDateString('he-IL');      
  const time = now.toLocaleTimeString('he-IL', {
    hour: '2-digit',
    minute: '2-digit'
  });                                              

  document.getElementById('current-date-time').innerText = `${time} ${date} `;
</script>
        </div>
      
      <form id="patientForm">
        <div class="form-group">
          <label for="patientName">שם המטופל:</label>
          <input 
            type="text" 
            id="patientName" 
            name="patientName" 
            placeholder="הזן את שם המטופל"
            required
            autocomplete="off"
            maxlength="50"
          >
          <div class="error-message" id="nameError">אנא הזן שם מטופל תקין (לפחות 2 תווים)</div>
        </div>
        
        <button type="submit" class="start-button" id="startButton">
          <span class="button-text">התחל ביקור רופא</span>
        </button>
      </form>

  </div>

  <script>
    function getOrCreatePatientId() {
      let patient_id = localStorage.getItem('patient_id');
      if (!patient_id) {
        // Generate a UUID v4
        patient_id = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
          var r = Math.random() * 16 | 0,
              v = c == 'x' ? r : (r & 0x3 | 0x8);
          return v.toString(16);
        });
        localStorage.setItem('patient_id', patient_id);
      }
      return patient_id;
    }

    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('patientForm');
      const patientNameInput = document.getElementById('patientName');
      const startButton = document.getElementById('startButton');
      const nameError = document.getElementById('nameError');
      const buttonText = startButton.querySelector('.button-text');

      // Focus on patient name input
      patientNameInput.focus();

      // Validate patient name
      function validatePatientName() {
        const name = patientNameInput.value.trim();
        if (name.length < 2) {
          nameError.style.display = 'block';
          startButton.disabled = true;
          return false;
        } else {
          nameError.style.display = 'none';
          startButton.disabled = false;
          return true;
        }
      }

      // Real-time validation
      patientNameInput.addEventListener('input', validatePatientName);

      // Form submission
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        if (validatePatientName()) {
          const patientName = patientNameInput.value.trim();
          const patientId = getOrCreatePatientId();
          
          // Show loading state
          startButton.classList.add('loading');
          buttonText.textContent = 'מתחיל...';
          
          // Store patient name in localStorage
          localStorage.setItem('patient_name', patientName);
          
          // Simulate a small delay for better UX
          setTimeout(() => {
            // Redirect to chat with patient name
            window.location.href = `/chat?patient_id=${encodeURIComponent(patientId)}&patient_name=${encodeURIComponent(patientName)}`;
          }, 800);
        }
      });

      // Check if we have a stored patient name and redirect if coming back
      const storedPatientName = localStorage.getItem('patient_name');
      if (storedPatientName) {
        patientNameInput.value = storedPatientName;
        validatePatientName();
      }

      // New Patient button functionality
      const newPatientBtn = document.getElementById('newPatientBtn');
      newPatientBtn.addEventListener('click', function() {
        // Clear stored patient data
        localStorage.removeItem('patient_name');
        localStorage.removeItem('patient_id');
        
        // Clear the input
        patientNameInput.value = '';
        validatePatientName();
        
        // Focus on the input
        patientNameInput.focus();
        
        // Show feedback
        newPatientBtn.textContent = 'נוקה!';
        newPatientBtn.style.background = 'rgb(16, 74, 163)';
        setTimeout(() => {
          newPatientBtn.textContent = 'מטופל חדש';
          newPatientBtn.style.background = 'rgb(16, 74, 163)';
        }, 2000);
      });

      // Add some interactive effects
      patientNameInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter' && !startButton.disabled) {
          form.dispatchEvent(new Event('submit'));
        }
      });
    });
  </script>
</body>
</html>
 