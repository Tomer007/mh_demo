<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="patient-name" content="×©× ×”×—×•×œ×”: {{ patient_name }}">
  <title>×œ×•×— ×‘×§×¨×” ×©×œ ×¡×¤×§</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #fff;
      margin: 0;
      direction: rtl;
    }
    .header {
      background-color: #1f2937;
      padding: 20px 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #f1f5f9;
      border-bottom: 2px solid #3b82f6;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .header-title {
      text-align: right;
      font-size: 12px;
      line-height: 1.6;
      font-weight: 300;
      color: #cbd5e1;
    }
    .language-selector {
      position: absolute;
      top: 20px;
      right: 100px;
    }
    .language-selector select {
      background-color: #374151;
      color: #fff;
      padding: 8px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }
    .language-selector select:focus {
      outline: none;
      box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
    }
    .connect-button {
      background-color: #22c55e;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
    .sidebar {
      background-color: #1f2937;
      width: 100px;
      height: 100vh;
      position: fixed;
      top: 0;
      right: 0;
      display: flex;
      flex-direction: column;
      padding-top: 60px;
      align-items: center;
    }
    .sidebar-item {
      text-align: center;
      margin-bottom: 1.5rem;
      color: #fff;
      transition: all 0.3s ease;
    }
    .sidebar-item.selected .icon-container {
      box-shadow: 0 0 8px 2px rgba(59, 130, 246, 0.7);
      transform: scale(1.1);
    }
    .sidebar-item.selected {
      font-weight: bold;
      color: #3B82F6;
    }
    .item-label {
      display: block;
      font-size: 0.8rem;
      margin-top: 0.3rem;
      font-weight: 500;
      color: #cbd5e1;
      letter-spacing: 0.5px;
    }
    .icon-container {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      color: #fff;
    }
    .bg-blue { background-color: #3B82F6; }
    .bg-purple { background-color: #8B5CF6; }
    .bg-pink { background-color: #EC4899; }
    .bg-orange { background-color: #F97316; }
    .bg-green { background-color: #22C55E; }
    .bg-red { background-color: #EF4444; }
    .bg-yellow { background-color: #F59E0B; }
    .bg-teal { background-color: #14B8A6; }
    .bg-indigo { background-color: #6366F1; }
    .bg-rose { background-color: #F43F5E; }
    .bg-cyan { background-color: #06B6D4; }
    .bg-emerald { background-color: #10B981; }
    .bg-violet { background-color: #8B5CF6; }
    .bg-slate { background-color: #64748B; }
    .main-content {
      margin-right: 120px;
      padding: 40px;
    }
    .tabs {
      margin-top: 20px;
      margin-bottom: 20px;
    }
    .tab {
      background-color: #1f2937;
      color: #ccc;
      border: 1px solid #374151;
      padding: 10px 15px;
      margin-left: 10px;
      border-radius: 20px;
      display: inline-block;
      cursor: pointer;
    }
    .tab:hover {
      background-color: #374151;
    }
    .tab.ai-screening {
      background-color: #3B82F6;
      color: white;
    }
    .summary-box {
      background-color: #1f2937;
      border: 1px solid #374151;
      border-radius: 10px;
      padding: 20px;
    }
    .summary-item {
      margin-bottom: 10px;
    }
    .summary-item strong {
      color: #fff;
    }
    .loading {
      text-align: center;
      color: #ccc;
      font-style: italic;
    }
    .error {
      color: #ef4444;
      text-align: center;
      padding: 20px;
    }
    svg {
      width: 24px;
      height: 24px;
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="language-selector">
      <select id="language-select" onchange="changeLanguage()">
        <option value="he" selected>×¢×‘×¨×™×ª</option>
        <option value="en">English</option>
        <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
        <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
      </select>
    </div>
    <div class="header-title">
      <strong id="patient-name" style="color: #3b82f6; font-size: 20px;"></strong><br />
      <span data-lang-key="patient_name_label">×©× ×”×—×•×œ×”: <strong>{{ patient_name }}</strong></span> |
      <span data-lang-key="dob_label">×ª××¨×™×š ×œ×™×“×”: <strong>24/7/1997</strong></span> |
      <span data-lang-key="gender_label">××™×Ÿ: <strong>× ×§×‘×”</strong></span> |
      <span data-lang-key="country_label">××“×™× ×”: <strong>×™×©×¨××œ</strong></span> |
      <span data-lang-key="patient_id_label">××–×”×” ××˜×•×¤×œ: <code style="background: #334155; padding: 2px 6px; border-radius: 4px;">1465e9bb-9e66-4ad7-ade7-9c874ca3d3f7</code></span>
    </div>
  </div>

  <div class="sidebar">
    <div class="sidebar-item selected">
      <div class="icon-container bg-blue">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2" /><path d="M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z" /></svg>
      </div>
      <span class="item-label" data-lang-key="today_visit"> ×”×›× ×” ×§×œ×™× ×™×ª </span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-purple">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2" /></svg>
      </div>
      <span class="item-label" data-lang-key="patient_record">×ª×™×§ ××˜×•×¤×œ</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-pink">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.96 6.053" /><path d="M16 19h6" /><path d="M19 16v6" /></svg>
      </div>
      <span class="item-label" data-lang-key="care_programs">×ª×•×›× ×™×•×ª ×˜×™×¤×•×œ</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-orange">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M11 15h1" /><path d="M12 15v3" /></svg>
      </div>
      <span class="item-label" data-lang-key="calendar">×™×•××Ÿ</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-green">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 12v.01" /><path d="M19.071 4.929c-1.562 -1.562 -6 .337 -9.9 4.243c-3.905 3.905 -5.804 8.337 -4.242 9.9c1.562 1.561 6 -.338 9.9 -4.244c3.905 -3.905 5.804 -8.337 4.242 -9.9" /><path d="M4.929 4.929c-1.562 1.562 .337 6 4.243 9.9c3.905 3.905 8.337 5.804 9.9 4.242c1.561 -1.562 -.338 -6 -4.244 -9.9c-3.905 -3.905 -8.337 -5.804 -9.9 -4.242" /></svg>
      </div>
      <span class="item-label" data-lang-key="automated_care">×˜×™×¤×•×œ ××•×˜×•××˜×™</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-red">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 12l2 2 4-4" /><path d="M21 12c-1 0-2-1-2-2s1-2 2-2 2 1 2 2-1 2-2 2z" /><path d="M3 12c1 0 2-1 2-2s-1-2-2-2-2 1-2 2 1 2 2 2z" /><path d="M12 3c0 1-1 2-2 2s-2-1-2-2 1-2 2-2 2 1 2 2z" /><path d="M12 21c0-1 1-2 2-2s2 1 2 2-1 2-2 2-2-1-2-2z" /></svg>
      </div>
      <span class="item-label" data-lang-key="prescription_insights">×ª×•×‘× ×•×ª ×ª×¨×•×¤×•×ª</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-yellow">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" /></svg>
      </div>
      <span class="item-label" data-lang-key="urgent_care">×˜×™×¤×•×œ ×“×—×•×£</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-teal">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" /><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z" /><path d="M12 11h4" /><path d="M12 16h4" /><path d="M8 11h.01" /><path d="M8 16h.01" /></svg>
      </div>
      <span class="item-label" data-lang-key="primary_care">×¨×¤×•××” ×¨××©×•× ×™×ª</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-indigo">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" /><path d="M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" /><path d="M23 21v-2a4 4 0 0 0-3-3.87" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /></svg>
      </div>
      <span class="item-label" data-lang-key="mental_health">×˜×™×¤×•×œ × ×¤×©×™</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-rose">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2.22l10.65 10.65a2 2 0 0 1-.47 3.11L8.47 21.76a2 2 0 0 1-2.83 0l-4.24-4.24a2 2 0 0 1 0-2.83L15.22 2.22a2 2 0 0 1 3.11-.47L21.78 8.47a2 2 0 0 1 0 2.83L12 2.22z" /></svg>
      </div>
      <span class="item-label" data-lang-key="nutrition">×ª×–×•× ×”</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-cyan">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" /><path d="M12 6v6l4 2" /></svg>
      </div>
      <span class="item-label" data-lang-key="breastfeeding">×”× ×§×”</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-emerald">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" /></svg>
      </div>
      <span class="item-label" data-lang-key="musculoskeletal">×©×¨×™×¨×™× ×•×©×œ×“</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-violet">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" /><path d="M12 6v6l4 2" /></svg>
      </div>
      <span class="item-label" data-lang-key="diabetes">×¡×•×›×¨×ª</span>
    </div>
    <div class="sidebar-item">
      <div class="icon-container bg-slate">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2" /></svg>
      </div>
      <span class="item-label" data-lang-key="blood_pressure">×œ×—×¥ ×“×</span>
    </div>
  </div>

  <div class="main-content">
    <h2 style="font-size: 26px; font-weight: 600; color: #3B82F6; border-bottom: 1px solid #3B82F6; padding-bottom: 10px; margin-bottom: 20px;" data-lang-key="main_heading">
      ×ª×™×¢×•×“ ×§×œ×™× ×™ ××§×“×™× ×¢×œ ×‘×¡×™×¡ ×“×™×•×•×— ×”×—×•×œ×”
    </h2>
    <div class="tabs">
    <div class="tab ai-screening" data-lang-key="pre_visit_info">××™×“×¢ ×˜×¨×•× ×‘×™×§×•×¨</div>
    </div>
    <div class="summary-box" id="summary-container">
      <div class="loading" data-lang-key="loading_summary">×˜×•×¢×Ÿ ×¡×™×›×•× ×‘×™×§×•×¨...</div>
    </div>
  </div>

  <script>
    const translations = {
      he: {
        title: "×œ×•×— ×‘×§×¨×” ×©×œ ×¡×¤×§",
        main_heading: "×ª×™×¢×•×“ ×§×œ×™× ×™ ××§×“×™× ×¢×œ ×‘×¡×™×¡ ×“×™×•×•×— ×”×—×•×œ×” â€“ {{ patient_name }}",
        patient_name_label: "×©× ×”××˜×•×¤×œ",
        dob_label: "×ª××¨×™×š ×œ×™×“×”",
        gender_label: "××™×Ÿ",
        country_label: "××“×™× ×”",
        patient_id_label: "××–×”×” ××˜×•×¤×œ",
        today_visit: "×‘×™×§×•×¨ ×”×™×•×",
        patient_record: "×ª×™×§ ××˜×•×¤×œ",
        care_programs: "×ª×•×›× ×™×•×ª ×˜×™×¤×•×œ",
        calendar: "×™×•××Ÿ",
        automated_care: "×˜×™×¤×•×œ ××•×˜×•××˜×™",
        prescription_insights: "×ª×•×‘× ×•×ª ×ª×¨×•×¤×•×ª",
        urgent_care: "×˜×™×¤×•×œ ×“×—×•×£",
        primary_care: "×¨×¤×•××” ×¨××©×•× ×™×ª",
        mental_health: "×˜×™×¤×•×œ × ×¤×©×™",
        nutrition: "×ª×–×•× ×”",
        breastfeeding: "×”× ×§×”",
        musculoskeletal: "×©×¨×™×¨×™× ×•×©×œ×“",
        diabetes: "×¡×•×›×¨×ª",
        blood_pressure: "×œ×—×¥ ×“×",
        pre_visit_info: "××™×“×¢ ×˜×¨×•× ×‘×™×§×•×¨",
        loading_summary: "×˜×•×¢×Ÿ ×¡×™×›×•× ×‘×™×§×•×¨...",
        summary_label: "×¡×™×›×•× ×‘×™×§×•×¨",
        no_summary: "××™×Ÿ ×¡×™×›×•× ×–××™×Ÿ ×¢×‘×•×¨ ×‘×™×§×•×¨ ×–×”.",
        error_message: "×©×’×™××” ×‘×˜×¢×™× ×ª ×”×¡×™×›×•×. × ×¡×” ×©×•×‘ ×××•×—×¨ ×™×•×ª×¨."
      },
      en: {
        title: "Provider Dashboard",
        main_heading: "Pre-visit Clinical Documentation Based on Patient Report â€“ {{ patient_name }}",
        patient_name_label: "Patient Name",
        dob_label: "Date of Birth",
        gender_label: "Gender",
        country_label: "Country",
        patient_id_label: "Patient ID",
        today_visit: "Today's Visit",
        patient_record: "Patient Record",
        care_programs: "Care Programs",
        calendar: "Calendar",
        automated_care: "Automated Care",
        prescription_insights: "Prescription Insights",
        urgent_care: "Urgent Care",
        primary_care: "Primary Care",
        mental_health: "Mental Health",
        nutrition: "Nutrition",
        breastfeeding: "Breastfeeding",
        musculoskeletal: "Musculoskeletal",
        diabetes: "Diabetes",
        blood_pressure: "Blood Pressure",
        pre_visit_info: "Pre-Visit Information",
        loading_summary: "Loading visit summary...",
        summary_label: "Visit Summary",
        no_summary: "No summary available for this visit.",
        error_message: "Error loading summary. Please try again later."
      },
      ar: {
        title: "Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù…Ù‚Ø¯Ù… Ø§Ù„Ø®Ø¯Ù…Ø©",
        main_heading: "Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø³Ø±ÙŠØ±ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø²ÙŠØ§Ø±Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø±ÙŠØ¶ â€“ {{ patient_name }}",
        patient_name_label: "Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶",
        dob_label: "ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯",
        gender_label: "Ø§Ù„Ø¬Ù†Ø³",
        country_label: "Ø§Ù„Ø¨Ù„Ø¯",
        patient_id_label: "Ø±Ù‚Ù… Ø§Ù„Ù…Ø±ÙŠØ¶",
        today_visit: "Ø²ÙŠØ§Ø±Ø© Ø§Ù„ÙŠÙˆÙ…",
        patient_record: "Ø³Ø¬Ù„ Ø§Ù„Ù…Ø±ÙŠØ¶",
        care_programs: "Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø±Ø¹Ø§ÙŠØ©",
        calendar: "Ø§Ù„ØªÙ‚ÙˆÙŠÙ…",
        automated_care: "Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø¢Ù„ÙŠØ©",
        prescription_insights: "Ø±Ø¤Ù‰ Ø§Ù„ÙˆØµÙØ§Øª",
        urgent_care: "Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©",
        primary_care: "Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©",
        mental_health: "Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ù†ÙØ³ÙŠ",
        nutrition: "Ø§Ù„ØªØºØ°ÙŠØ©",
        breastfeeding: "Ø§Ù„Ø±Ø¶Ø§Ø¹Ø©",
        musculoskeletal: "Ø§Ù„Ø¹Ø¶Ù„Ø§Øª ÙˆØ§Ù„Ù‡ÙŠÙƒÙ„",
        diabetes: "Ø§Ù„Ø³ÙƒØ±ÙŠ",
        blood_pressure: "Ø¶ØºØ· Ø§Ù„Ø¯Ù…",
        pre_visit_info: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø²ÙŠØ§Ø±Ø©",
        loading_summary: "Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ø®Øµ Ø§Ù„Ø²ÙŠØ§Ø±Ø©...",
        summary_label: "Ù…Ù„Ø®Øµ Ø§Ù„Ø²ÙŠØ§Ø±Ø©",
        no_summary: "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù„Ø®Øµ Ù…ØªØ§Ø­ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø²ÙŠØ§Ø±Ø©.",
        error_message: "Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø®Øµ. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ø§Ù‹."
      },
      ru: {
        title: "ĞŸĞ°Ğ½ĞµĞ»ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°",
        main_heading: "ĞŸÑ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ ĞºĞ»Ğ¸Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ° Ğ¿Ğ°Ñ†Ğ¸ĞµĞ½Ñ‚Ğ° â€“ {{ patient_name }}",
        patient_name_label: "Ğ˜Ğ¼Ñ Ğ¿Ğ°Ñ†Ğ¸ĞµĞ½Ñ‚Ğ°",
        dob_label: "Ğ”Ğ°Ñ‚Ğ° Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ",
        gender_label: "ĞŸĞ¾Ğ»",
        country_label: "Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ°",
        patient_id_label: "Ğ˜Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ°Ñ†Ğ¸ĞµĞ½Ñ‚Ğ°",
        today_visit: "Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½ÑÑˆĞ½Ğ¸Ğ¹ Ğ²Ğ¸Ğ·Ğ¸Ñ‚",
        patient_record: "ĞœĞµĞ´Ğ¸Ñ†Ğ¸Ğ½ÑĞºĞ°Ñ ĞºĞ°Ñ€Ñ‚Ğ°",
        care_programs: "ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹ ÑƒÑ…Ğ¾Ğ´Ğ°",
        calendar: "ĞšĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ",
        automated_care: "ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ÑƒÑ…Ğ¾Ğ´",
        prescription_insights: "ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ñ€ĞµÑ†ĞµĞ¿Ñ‚Ğ¾Ğ²",
        urgent_care: "Ğ¡Ñ€Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ",
        primary_care: "ĞŸĞµÑ€Ğ²Ğ¸Ñ‡Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ",
        mental_health: "ĞŸÑĞ¸Ñ…Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ",
        nutrition: "ĞŸĞ¸Ñ‚Ğ°Ğ½Ğ¸Ğµ",
        breastfeeding: "Ğ“Ñ€ÑƒĞ´Ğ½Ğ¾Ğµ Ğ²ÑĞºĞ°Ñ€Ğ¼Ğ»Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ",
        musculoskeletal: "ĞĞ¿Ğ¾Ñ€Ğ½Ğ¾-Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ°Ğ¿Ğ¿Ğ°Ñ€Ğ°Ñ‚",
        diabetes: "Ğ”Ğ¸Ğ°Ğ±ĞµÑ‚",
        blood_pressure: "ĞÑ€Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ",
        pre_visit_info: "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞ´ Ğ²Ğ¸Ğ·Ğ¸Ñ‚Ğ¾Ğ¼",
        loading_summary: "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ÑĞ²Ğ¾Ğ´ĞºĞ¸ Ğ²Ğ¸Ğ·Ğ¸Ñ‚Ğ°...",
        summary_label: "Ğ¡Ğ²Ğ¾Ğ´ĞºĞ° Ğ²Ğ¸Ğ·Ğ¸Ñ‚Ğ°",
        no_summary: "ĞĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ¹ ÑĞ²Ğ¾Ğ´ĞºĞ¸ Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ·Ğ¸Ñ‚Ğ°.",
        error_message: "ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ÑĞ²Ğ¾Ğ´ĞºĞ¸. ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ° Ğ¿Ğ¾Ğ·Ğ¶Ğµ."
      }
    };

    function changeLanguage() {
      const lang = document.getElementById('language-select').value;
      
      document.documentElement.lang = lang;
      document.documentElement.dir = lang === 'en' || lang === 'ru' ? 'ltr' : 'rtl';
      document.title = translations[lang].title;

      // Get patient name from meta tag
      const patientName = document.querySelector('meta[name="patient-name"]').getAttribute('content');

      const elementsToUpdate = document.querySelectorAll('[data-lang-key]');

      elementsToUpdate.forEach(element => {
        const key = element.getAttribute('data-lang-key');
        
        if (element.tagName === 'SPAN' && element.parentElement.classList.contains('header-title')) {
          if (key === 'patient_name_label') {
            element.innerHTML = `${translations[lang][key]}: <strong>${patientName}</strong>`;
          } else if (key === 'dob_label') {
            element.innerHTML = `${translations[lang][key]}: <strong>24/7/1997</strong>`;
          } else if (key === 'gender_label') {
            element.innerHTML = `${translations[lang][key]}: <strong>${translations[lang].gender_label === 'Gender' ? 'Female' : translations[lang].gender_label === 'Ø§Ù„Ø¬Ù†Ø³' ? 'Ø£Ù†Ø«Ù‰' : translations[lang].gender_label === 'ĞŸĞ¾Ğ»' ? 'Ğ–ĞµĞ½ÑĞºĞ¸Ğ¹' : '× ×§×‘×”'}</strong>`;
          } else if (key === 'country_label') {
            element.innerHTML = `${translations[lang][key]}: <strong>${translations[lang].country_label === 'Country' ? 'Israel' : translations[lang].country_label === 'Ø§Ù„Ø¨Ù„Ø¯' ? 'Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„' : translations[lang].country_label === 'Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ°' ? 'Ğ˜Ğ·Ñ€Ğ°Ğ¸Ğ»ÑŒ' : '×™×©×¨××œ'}</strong>`;
          } else if (key === 'patient_id_label') {
            element.innerHTML = `${translations[lang][key]}: <code style="background: #334155; padding: 2px 6px; border-radius: 4px;">1465e9bb-9e66-4ad7-ade7-9c874ca3d3f7</code>`;
          }
        } else if (element.tagName === 'H2' && key === 'main_heading') {
          // Handle main heading with patient name replacement
          const headingText = translations[lang][key].replace('{{ patient_name }}', patientName);
          element.textContent = headingText;
        } else {
          element.textContent = translations[lang][key];
        }
      });

      // Update summary container if it has been loaded
      const summaryContainer = document.getElementById('summary-container');
      if (!summaryContainer.querySelector('.loading')) {
        loadSummary(lang);
      }
    }

    async function loadSummary(lang = 'he') {
      const summaryContainer = document.getElementById('summary-container');
      summaryContainer.innerHTML = `<div class="loading">${translations[lang].loading_summary}</div>`;
      try {
        const timestamp = new Date().getTime();
        const response = await fetch(`/api/summary_for_provider?t=${timestamp}`, {
          method: 'GET',
          headers: {
            'Cache-Control': 'no-cache',
            'Pragma': 'no-cache'
          }
        });
        
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        const data = await response.json();
        
        const formattedSummary = (data.summary || '')
          .split(/\n|\*/)
          .filter(line => line.trim())
          .map(item => {
            const cleaned = item.replace(/^(\d+)\.\s*/, '$1 ');
            const parts = cleaned.split(':');
            const label = parts[0]?.trim() || '';
            const value = parts.slice(1).join(':').replace(/[:]+$/, '').trim();
            return `<li dir="${lang === 'en' || lang === 'ru' ? 'ltr' : 'rtl'}" style="margin-bottom: 10px;">ğŸ”¹ <strong>${label}:</strong> ${value}</li>`;
          })
          .join('');
        
        summaryContainer.innerHTML = `
          <div class="summary-item">
            <strong>${translations[lang].summary_label}:</strong>
            <ul style="margin-top: 10px; line-height: 1.8; color: #ccc; padding-${lang === 'en' || lang === 'ru' ? 'left' : 'right'}: 1rem; direction: ${lang === 'en' || lang === 'ru' ? 'ltr' : 'rtl'}; text-align: ${lang === 'en' || lang === 'ru' ? 'left' : 'right'};">
              ${formattedSummary || `<li>${translations[lang].no_summary}</li>`}
            </ul>
          </div>
        `;
      } catch (error) {
        console.error('Error loading summary:', error);
        summaryContainer.innerHTML = `<div class="error">${translations[lang].error_message}<br><small>${error.message}</small></div>`;
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      const patientName = document.querySelector('meta[name="patient-name"]').getAttribute('content');
      document.getElementById('patient-name').innerText = patientName;
      loadSummary();
    });
  </script>
</body>
</html>